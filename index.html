<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Guest Card</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Tambahan CSS responsif untuk mobile -->
  <style>
    @media (max-width: 768px) {
      /* Susun ulang grid jadi kolom tunggal */
      .gc-grid {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }
      .gc-left, .gc-mid, .gc-right {
        width: 100%;
      }

      /* Sederhanakan tabel rating */
      .gc-rating thead, .gc-list thead {
        display: none;
      }
      .gc-rating tbody tr {
        display: grid;
        grid-template-columns: 1fr auto auto auto auto auto;
        align-items: center;
        gap: .5rem;
        margin-bottom: .75rem;
        border-bottom: 1px solid #ddd;
      }
      .gc-rating td:first-child {
        grid-column: 1 / -1;
        font-weight: bold;
        padding-bottom: .25rem;
      }

      /* Tabel data tamu jadi kartu */
      .gc-list tbody tr {
        display: grid;
        grid-template-columns: auto 1fr;
        padding: .5rem;
        border-bottom: 1px solid #ccc;
      }
      .gc-list td {
        padding: 0;
      }
      .gc-list td:nth-child(1) { font-weight: bold; }
      .gc-list td:nth-child(2):before { content: "Tanggal: "; font-weight: bold; }
      .gc-list td:nth-child(3):before { content: "Jam: "; font-weight: bold; }
      .gc-list td:nth-child(4):before { content: "Meja: "; font-weight: bold; }
      .gc-list td:nth-child(5):before { content: "Nama: "; font-weight: bold; }

      /* Tombol dan input melebar */
      .gc-buttons, .gc-search {
        width: 100%;
      }
      .gc-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: .5rem;
      }
      .gc-buttons button {
        flex: 1 1 45%;
      }
      .gc-search {
        margin-bottom: 1rem;
      }
    }
  </style>

  <!-- Supabase client -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <!-- Chart.js untuk report -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- App logic -->
  <script defer src="app.js"></script>
</head>

<body>
  <div class="gc-wrap">
    <header class="gc-header">
      <div class="gc-logo">ROASTER &amp; BEAR</div>
    </header>

    <form id="gcForm" class="gc-grid">
      <!-- KIRI: Identitas & pilihan -->
      <section class="gc-left">
        <div class="gc-row3">
          <div class="gc-field">
            <label for="tgl">Tanggal</label>
            <input type="date" id="tgl" required />
          </div>
          <div class="gc-field">
            <label for="jam">Jam</label>
            <input type="time" id="jam" required />
          </div>
          <div class="gc-field">
            <label for="no_meja">No Meja</label>
            <input type="text" id="no_meja" placeholder="A1 / 12 / dsb" required />
          </div>
        </div>
        <div class="gc-field">
          <label for="nama_tamu">Nama</label>
          <input type="text" id="nama_tamu" required />
        </div>

        <!-- Pilihan bersarang... (tetap seperti aslinya) -->
        <!-- ... -->
      </section>

      <!-- TENGAH: Rating, komentar, tombol aksi -->
      <section class="gc-mid">
        <table class="gc-rating">
          <!-- tetap seperti aslinya -->
        </table>
        <div class="gc-field">
          <label for="comments">Others comment or suggestions?</label>
          <textarea id="comments" rows="6"></textarea>
        </div>
        <div class="gc-buttons">
          <button type="button" id="btnSave" class="gold">Save</button>
          <button type="button" id="btnUpdate" class="gold" disabled>Update</button>
          <button type="button" id="btnDelete" class="gold" disabled>Delete</button>
          <button type="button" id="btnCancel" class="gold">Cancel</button>
          <button type="button" id="btnClose" class="gold">Close</button>
          <button type="button" id="btnReport" class="gold">Report</button>
        </div>
      </section>

      <!-- KANAN: Daftar entri -->
      <aside class="gc-right">
        <input type="text" id="searchBox" placeholder="Cari Nama / Meja / Tanggal..." class="gc-search" />
        <table class="gc-list">
          <!-- tetap seperti aslinya -->
        </table>
      </aside>
    </form>

    <!-- Modal Report -->
    <div id="reportModal" class="report-modal" style="display:none;">
      <div class="report-content">
        <h2>Laporan Media Sosial</h2>
        <canvas id="reportChart"></canvas>
        <button class="gold" onclick="closeReport()">Tutup</button>
      </div>
    </div>

    <footer class="gc-footer">Versi 1.2</footer>
  </div>
</body>
</html>